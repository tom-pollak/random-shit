from websocket import create_connection
import json

ws = create_connection("wss://live.smarkets.com/")
# ws.send('{"add":[],"remove":[],"logged_in":false}')
result = ws.recv()
print(result)
# ws.send(
#     '{"add":[{"names":["event*"],"ids":[42182196]},{"names":["markets/execution"],"ids":[14183041]}]}'
# )
ws.send(
    '{"add":[{"names":["event*"],"ids":[42182196,42182197,42182198,42187946,42182199,42180522,42186165,42188211,42138715,41659442,42188230]},{"names":["markets/execution"],"ids":[14183041,14183045,14183047,14183055,14183042,14183058,14183059,14183060,14183061,14183062,14183063,14183064,14183077,14183078,14183079,14183080,14183081,14183082,14183083,14183084,14183085,14183086,14183087,14183088,14183043,14183044,14183046,14183065,14183066,14183067,14183068,14183069,14183070,14183048,14183049,14183050,14183051,14183052,14183053,14183054,14183090,14183094,14183091,14183095,14183089,14183093,14183097,14183099,14183098,14183092,14183096,14183105,14183106,14183107,14183108,14183109,14183110,14183111,14183102,14183103,14183104,14183056,14183057,14183100,14183071,14183072,14183073,14183074,14183075,14183076,14183112,14183113,14183101,14183117,14183121,14183123,14183131,14183118,14183134,14183135,14183136,14183137,14183138,14183139,14183140,14183153,14183154,14183155,14183156,14183157,14183158,14183159,14183160,14183161,14183162,14183163,14183164,14183119,14183120,14183122,14183141,14183142,14183143,14183144,14183145,14183146,14183124,14183125,14183126,14183127,14183128,14183129,14183130,14183166,14183170,14183167,14183171,14183165,14183169,14183173,14183175,14183174,14183168,14183172,14183181,14183182,14183183,14183184,14183185,14183186,14183187,14183178,14183179,14183180,14183132,14183133,14183176,14183147,14183148,14183149,14183150,14183151,14183152,14183177,14183188,14183192,14183194,14183202,14183189,14183205,14183206,14183207,14183208,14183210,14183213,14183216,14183255,14183258,14183259,14183261,14183262,14183264,14183266,14183268,14183270,14183273,14183275,14183278,14183190,14183191,14183193,14183219,14183225,14183227,14183229,14183233,14183236,14183195,14183196,14183197,14183198,14183199,14183200,14183201,14183282,14183291,14183285,14183293,14183280,14183289,14183297,14183305,14183302,14183287,14183295,14183318,14183320,14183323,14183325,14183327,14183328,14183329,14183312,14183314,14183316,14183203,14183204,14183308,14183238,14183241,14183243,14183247,14183250,14183252,14183311,14272968,14308181,14183209,14183215,14183218,14183230,14183211,14183234,14183235,14183237,14183239,14183240,14183242,14183244,14183267,14183269,14183271,14183272,14183274,14183276,14183277,14183279,14183281,14183283,14183284,14183286,14183212,14183214,14183217,14183245,14183246,14183248,14183249,14183251,14183253,14183220,14183221,14183222,14183223,14183224,14183226,14183228,14183290,14183298,14183292,14183299,14183288,14183296,14183301,14183304,14183303,14183294,14183300,14183315,14183317,14183319,14183321,14183322,14183324,14183326,14183309,14183310,14183313,14183231,14183232,14183306,14183254,14183256,14183257,14183260,14183263,14183265,14183307,14159791,14159795,14159797,14159805,14159792,14159808,14159809,14159810,14159811,14159812,14159813,14159814,14159827,14159828,14159829,14159830,14159831,14159832,14159833,14159834,14159835,14159836,14159837,14159838,14159793,14159794,14159796,14159815,14159816,14159817,14159818,14159819,14159820,14159798,14159799,14159800,14159801,14159802,14159803,14159804,14159840,14159844,14159841,14159845,14159839,14159843,14159847,14159850,14159848,14159842,14159846,14159866,14159867,14159869,14159871,14159873,14159875,14159878,14159859,14159862,14159864,14159806,14159807,14246224,14278189,14278188,14284595,14284596,14284597,14316969,14316971,14318247,14316972,14316974,14316973,14316975,14316967,14316968,14316978,14316976,14316956,14316955,14316957,14316966,14316977,14316959,14316960,14316958,14316979,14316962,14316963,14316961,14316980,14316965,14316964,9872142,14278879,14278885,14319434,14319157,14319243,14319308,14319862,14318687,14318569,14318268,14318544,14318451,14318024,14286060,14318272,14319480,14319601,14278881,14278880,14319433,14278884,14286057,14286056,14287026,14319079,14319309,14319147,14319146,14319602,14320060,14320080,14278883,14278882,14318265,14286062,14287025,14318448,14318266,14318693,14318974,14319011,14319075,14319126,14319145,14278886,14278878,14286061,14319087,14278887,14318455,14286059,14287024,14318549,14318686,14318548,14318449,14286058,14318450,14318644,14318959,14318452,14318264,14318111,14286063,14318648,14318269,14319106,14319097,14319088,14319084,14319082,14319156,14319201,14318267,14286055,14318271,14318270,14319159,14319086,14319083,14319085,14319125,14318454,14318453,14318552,14318642,14318659,14318675,14318682,14318694,14318833,14318861,14318903,14318975,14319081,14319080,14319127,14319158,14319205,14319237,14319253,14319267,14319290,14319362,14319431,14319432,14319731,14319758,14319764,14319793,14319823,14319864,14319970]},{"names":["markets/state"],"ids":[14278879,14278885,14319434,14319157,14319243,14319308,14319862,14318687,14318569,14318268,14318544,14318451,14318024,14286060,14318272,14319480,14319601,14278881,14278880,14319433,14278884,14286057,14286056,14287026,14319079,14319309,14319147,14319146,14319602,14320060,14320080,14278883,14278882,14318265,14286062,14287025,14318448,14318266,14318693,14318974,14319011,14319075,14319126,14319145,14278886,14278878,14286061,14319087,14278887,14318455,14286059,14287024,14318549,14318686,14318548,14318449,14286058,14318450,14318644,14318959,14318452,14318264,14318111,14286063,14318648,14318269,14319106,14319097,14319088,14319084,14319082,14319156,14319201,14318267,14286055,14318271,14318270,14319159,14319086,14319083,14319085,14319125,14318454,14318453,14318552,14318642,14318659,14318675,14318682,14318694,14318833,14318861,14318903,14318975,14319081,14319080,14319127,14319158,14319205,14319237,14319253,14319267,14319290,14319362,14319431,14319432,14319731,14319758,14319764,14319793,14319823,14319864,14319970]},{"names":["q"],"ids":[14278879]}],"remove":[],"bet_permission":false,"user_type":"web-desktop","logged_in":false}'
)
while True:
    resp = ws.recv()
    print(json.loads(resp))
ws.close()
